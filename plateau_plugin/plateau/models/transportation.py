from .base import (
    Attribute,
    Emission,
    Emissions,
    LODDetection,
    ProcessorDefinition,
)

ROAD = ProcessorDefinition(
    id="Road",
    target_elements=["tran:Road"],
    lod_detection=LODDetection(
        lod1=["./tran:lod1MultiSurface"],
        lod2=["./tran:lod2MultiSurface"],
        lod3=["./tran:lod3MultiSurface"],
        lod4=["./tran:lod4MultiSurface"],
    ),
    attributes=[
        Attribute(
            name="class",
            path="./tran:class",
            datatype="string",
            codelist="TransportationComplex_class",
        ),
        Attribute(
            name="function",
            path="./tran:function",
            datatype="[]string",
            codelist="Road_function",
        ),
        Attribute(
            name="usage",
            path="./tran:usage",
            datatype="[]string",
            codelist="Road_usage",
        ),
    ],
    emissions=Emissions(
        lod1=Emission(
            catch_all=["./tran:lod1MultiSurface//gml:Polygon"],
            direct=["./tran:lod1MultiSurface//gml:Polygon"],
        ),
        lod2=Emission(
            catch_all=["./tran:*//tran:lod2MultiSurface//gml:Polygon"],
            direct=["./tran:lod2MultiSurface//gml:Polygon"],
        ),
        lod3=Emission(
            catch_all=["./tran:*//tran:lod3MultiSurface//gml:Polygon"],
            direct=["./tran:lod3MultiSurface//gml:Polygon"],
        ),
        lod4=Emission(
            catch_all=["./tran:*//tran:lod4MultiSurface//gml:Polygon"],
            direct=["./tran:lod4MultiSurface//gml:Polygon"],
        ),
        semantic_parts=[
            "./tran:trafficArea/tran:TrafficArea",
            "./tran:auxiliaryTrafficArea/tran:AuxiliaryTrafficArea",
        ],
    ),
)

# Road > TrafficArea および Road > AuxiliaryTrafficArea を扱う
TRAFFIC_AREA = ProcessorDefinition(
    id="Traffic Area",
    target_elements=["tran:TrafficArea", "tran:AuxiliaryTrafficArea"],
    attributes=[
        Attribute(
            name="function",
            path="./tran:function",
            datatype="[]string",
            codelist="TrafficArea_function",
        ),
        Attribute(
            name="surfaceMaterial",
            path="./tran:surfaceMaterial",
            datatype="string",
            codelist="TrafficArea_surfaceMaterial",
        ),
    ],
    lod_detection=LODDetection(
        lod2=["./tran:lod2MultiSurface"],
        lod3=["./tran:lod3MultiSurface"],
        lod4=["./tran:lod4MultiSurface"],
    ),
    emissions=Emissions(
        lod2=Emission(catch_all=["./tran:lod2MultiSurface//gml:Polygon"]),
        lod3=Emission(catch_all=["./tran:lod3MultiSurface//gml:Polygon"]),
        lod4=Emission(catch_all=["./tran:lod4MultiSurface//gml:Polygon"]),
    ),
)
